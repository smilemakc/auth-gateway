
import React, { createContext, useState, useContext, ReactNode, useEffect } from 'react';

type Language = 'ru' | 'en';

interface LanguageContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
}

const translations: Record<Language, Record<string, string>> = {
  ru: {
    // Common
    'common.save': 'Сохранить',
    'common.saving': 'Сохранение...',
    'common.saved': 'Сохранено!',
    'common.cancel': 'Отмена',
    'common.delete': 'Удалить',
    'common.edit': 'Редактировать',
    'common.create': 'Создать',
    'common.back': 'Назад',
    'common.loading': 'Загрузка...',
    'common.actions': 'Действия',
    'common.search': 'Поиск...',
    'common.status': 'Статус',
    'common.created': 'Создано',
    'common.yes': 'Да',
    'common.no': 'Нет',
    'common.confirm_delete': 'Вы уверены, что хотите удалить этот элемент?',
    
    // Auth
    'auth.title': 'Auth Gateway',
    'auth.subtitle': 'Войдите для доступа к консоли администратора',
    'auth.email': 'Email адрес',
    'auth.password': 'Пароль',
    'auth.signin': 'Войти',
    'auth.forgot_password': 'Забыли пароль?',
    'auth.reset_here': 'Сбросить здесь',

    // Navigation
    'nav.dashboard': 'Дашборд',
    'nav.users': 'Пользователи',
    'nav.users_identity': 'Пользователи и Идентификация',
    'nav.groups': 'Группы',
    'nav.bulk_operations': 'Массовые операции',
    'nav.access_control': 'Управление доступом',
    'nav.roles': 'Роли',
    'nav.permissions': 'Разрешения',
    'nav.access_settings': 'Настройки доступа',
    'nav.authentication': 'Аутентификация',
    'nav.sessions': 'Сессии',
    'nav.api_keys': 'API Ключи',
    'nav.oauth': 'OAuth Провайдеры',
    'nav.oauth_clients': 'OAuth Клиенты',
    'nav.security': 'Безопасность',
    'nav.ip_security': 'IP Безопасность',
    'nav.audit_logs': 'Журнал аудита',
    'nav.email': 'Email',
    'nav.email_providers': 'Email провайдеры',
    'nav.email_profiles': 'Email профили',
    'nav.settings': 'Настройки',
    'nav.developers': 'Разработчики',
    'nav.webhooks': 'Вебхуки',
    'nav.service_accounts': 'Сервисные аккаунты',
    'nav.token_inspector': 'Инспектор токенов',
    'nav.logout': 'Выйти',
    'nav.menu': 'Меню',

    // Breadcrumbs
    'breadcrumb.home': 'Главная',
    'breadcrumb.details': 'Детали',

    // Dashboard
    'dash.title': 'Обзор системы',
    'dash.total_users': 'Всего пользователей',
    'dash.active_now': 'Активны сейчас',
    'dash.2fa_enabled': '2FA Включена',
    'dash.api_keys': 'API Ключи',
    'dash.registrations': 'Регистрации (30 дней)',
    'dash.login_activity': 'Активность входов',

    // Users
    'users.title': 'Пользователи',
    'users.create_new': 'Создать пользователя',
    'users.filter_role': 'Все роли',
    'users.col_user': 'Пользователь',
    'users.col_role': 'Роль',
    'users.col_status': 'Статус',
    'users.col_2fa': '2FA',
    'users.col_created': 'Создан',
    'users.active': 'Активен',
    'users.blocked': 'Заблокирован',
    'users.view_details': 'Подробнее',
    
    // User Details
    'user.id': 'ID пользователя',
    'user.edit_profile': 'Ред. профиль',
    'user.security': 'Безопасность',
    'user.email_verified': 'Email подтвержден',
    'user.sessions': 'Активные сессии',
    'user.linked_accounts': 'Связанные аккаунты',
    'user.recent_activity': 'Недавняя активность',
    'user.revoke': 'Отозвать',
    'user.current': 'Текущая',
    'user.no_sessions': 'Нет активных сессий',
    'user.no_keys': 'Ключи не найдены',
    'user.danger_zone': 'Опасная зона',
    'user.reset_2fa': 'Сбросить 2FA',
    'user.reset_password_email': 'Отправить сброс пароля',
    'user.reset_2fa_confirm': 'Вы уверены? Пользователю придется настроить 2FA заново.',

    // User Edit
    'user.edit.title': 'Редактировать пользователя',
    'user.create.title': 'Новый пользователь',
    'user.form.username': 'Имя пользователя',
    'user.form.role': 'Роль',
    'user.form.fullname': 'Полное имя',
    'user.form.phone': 'Телефон',
    'user.form.active': 'Аккаунт активен',
    'user.form.active_desc': 'Снимите галочку, чтобы заблокировать вход.',
    'user.form.2fa_force': 'Принудительная 2FA',
    'user.form.save': 'Сохранить изменения',

    // API Keys
    'keys.title': 'API Ключи',
    'keys.generate': 'Генерировать ключ',
    'keys.owner': 'Владелец',
    'keys.prefix': 'Префикс',
    'keys.revoke_confirm': 'Отозвать этот ключ? Это действие необратимо.',
    'keys.revoked': 'Отозван',

    // OAuth
    'oauth.title': 'OAuth Провайдеры',
    'oauth.add': 'Добавить провайдера',
    'oauth.manage_desc': 'Управление входом через соцсети',
    'oauth.client_id': 'Client ID',
    'oauth.client_secret': 'Client Secret',
    'oauth.redirect_uris': 'Redirect URIs',
    'oauth.enable': 'Включить провайдера',
    'oauth.configure': 'Настроить',
    
    // Settings
    'settings.title': 'Настройки системы',
    'settings.branding': 'Внешний вид',
    'settings.branding_desc': 'Настройка страницы входа',
    'settings.roles': 'Роли и Права',
    'settings.roles_desc': 'Управление доступом',
    'settings.ip_security': 'IP Безопасность',
    'settings.ip_desc': 'Черные и белые списки IP',
    'settings.security_policies': 'Политики безопасности',
    'settings.password_policy': 'Политика паролей',
    'settings.email_smtp': 'Email и SMTP',
    'settings.manage_templates': 'Шаблоны писем',
    'settings.jwt_ttl': 'Время жизни JWT (мин)',
    'settings.refresh_ttl': 'Время жизни Refresh (дней)',
    'settings.min_pass': 'Мин. длина пароля',
    'settings.require_2fa_admin': 'Обязательная 2FA для админов',
    'settings.smtp_host': 'SMTP Хост',
    'settings.smtp_port': 'Порт',
    'settings.from_addr': 'Адрес отправителя',
    'settings.req_uppercase': 'Требовать заглавные',
    'settings.req_lowercase': 'Требовать строчные',
    'settings.req_numbers': 'Требовать цифры',
    'settings.req_special': 'Требовать спецсимволы',
    'settings.pass_history': 'История паролей',
    'settings.pass_expiry': 'Срок действия пароля (дней)',

    // IP Rules
    'ip.title': 'IP Безопасность',
    'ip.blacklist': 'Черный список (Block)',
    'ip.whitelist': 'Белый список (Allow)',
    'ip.add_block': 'Добавить блок',
    'ip.add_allow': 'Добавить разрешение',
    'ip.address': 'IP Адрес / CIDR',
    'ip.added_by': 'Добавил',

    // Webhooks
    'hooks.title': 'Вебхуки',
    'hooks.add': 'Добавить эндпоинт',
    'hooks.url': 'Endpoint URL',
    'hooks.events': 'События',
    'hooks.secret': 'Секретный ключ',
    'hooks.failures': 'Ошибки',

    // Service Accounts
    'sa.title': 'Сервисные аккаунты',
    'sa.create': 'Создать аккаунт',
    'sa.desc': 'M2M аутентификация',
    'sa.generated': 'Аккаунт создан',
    'sa.generated_desc': 'Скопируйте эти данные сейчас. Client Secret больше не будет показан.',
    
    // Roles & Permissions
    'roles.title': 'Роли',
    'perms.title': 'Права доступа (Permissions)',
    'perms.name': 'Название',
    'perms.resource': 'Ресурс',
    'perms.action': 'Действие',
    'roles.permissions': 'Права доступа',
    'roles.system_role': 'Системная',
    'roles.users_count': 'Пользователей',

    // Branding
    'brand.company': 'Название компании',
    'brand.logo': 'URL Логотипа',
    'brand.colors': 'Цвета',
    'brand.primary': 'Основной',
    'brand.bg': 'Фон',
    'brand.content': 'Контент',
    'brand.heading': 'Заголовок входа',
    'brand.subtitle': 'Подзаголовок',
    'brand.preview': 'Предпросмотр',
    'brand.socials': 'Показать соцсети',
    
    // Email Templates
    'email.templates': 'Шаблоны писем',
    'email.subject': 'Тема письма',
    'email.body': 'HTML Тело',
    'email.vars': 'Переменные',
    'email.preview': 'Предпросмотр',
    'email.settings_title': 'Настройки Email',
    'email.tab_templates': 'Шаблоны',
    'email.tab_providers': 'Провайдеры',
    'email.group_auth': 'Аутентификация',
    'email.group_auth_desc': 'Шаблоны для регистрации, верификации и входа',
    'email.group_security': 'Безопасность',
    'email.group_security_desc': 'Шаблоны для сброса пароля и двухфакторной аутентификации',
    'email.group_other': 'Прочие',
    'email.group_other_desc': 'Пользовательские шаблоны',
    'email.no_templates': 'Нет шаблонов',
    'email.no_templates_in_group': 'В этой категории пока нет шаблонов.',
    'email.type_verification': 'Верификация',
    'email.type_welcome': 'Приветствие',
    'email.type_otp_login': 'OTP Вход',
    'email.type_otp_registration': 'OTP Регистрация',
    'email.type_password_reset': 'Сброс пароля',
    'email.type_2fa': 'Двухфакторная аутентификация',
    'email.type_custom': 'Пользовательский',
    'email.providers': 'Email провайдеры',
    'email.providers_desc': 'Настройка SMTP серверов и облачных сервисов для отправки email',
    'email.add_provider': 'Добавить провайдера',
    'email.add_first_provider': 'Добавить первого провайдера',
    'email.test_email': 'Тестовый Email адрес',
    'email.no_providers': 'Нет Email провайдеров',
    'email.no_providers_desc': 'Настройте провайдера для отправки системных email.',
    'email.manage_providers': 'Управление провайдерами',

    // SMS & System
    'sms.title': 'SMS Провайдеры',
    'sms.desc': 'Настройка шлюза для отправки SMS',
    'sms.provider': 'Выберите провайдера',
    'sms.test': 'Тест отправки',
    'sys.health': 'Здоровье системы',
    'sys.maintenance_on': 'Режим обслуживания ВКЛ',
    'sys.maintenance_off': 'Режим обслуживания ВЫКЛ',
    'sys.confirm_enable': 'Вы уверены, что хотите включить режим обслуживания? Пользователи не смогут войти.',
    'sys.confirm_disable': 'Выключить режим обслуживания?',

    // Inspector
    'inspector.title': 'Инспектор токенов',
    'inspector.desc': 'Декодирование и проверка JWT токенов',
    'inspector.paste': 'Вставьте JWT токен здесь',
    'inspector.header': 'Заголовок',
    'inspector.payload': 'Полезная нагрузка (Payload)',
    'inspector.invalid': 'Неверный формат токена',

    // Applications
    'nav.applications': 'Приложения',
    'apps.title': 'Приложения',
    'apps.desc': 'Управление мультитенантными приложениями',
    'apps.add': 'Добавить приложение',
    'apps.create': 'Создать приложение',
    'apps.edit': 'Редактировать приложение',
    'apps.create_desc': 'Настройка нового приложения для мультитенантной аутентификации',
    'apps.edit_desc': 'Обновление настроек приложения',
    'apps.load_error': 'Не удалось загрузить приложения. Попробуйте снова.',
    'apps.not_found': 'Приложение не найдено.',
    'apps.system': 'Системное',
    'apps.name_slug': 'Имя (Slug)',
    'apps.homepage': 'Домашняя страница',
    'apps.callbacks': 'Callback URL-ы',
    'apps.none_configured': 'Не настроено',
    'apps.no_apps': 'Нет приложений',
    'apps.get_started': 'Начните с создания нового приложения.',
    'apps.basic_info': 'Основная информация',
    'apps.name': 'Имя (Slug)',
    'apps.display_name': 'Отображаемое имя',
    'apps.description': 'Описание',
    'apps.description_placeholder': 'Краткое описание приложения...',
    'apps.name_hint': 'Уникальный идентификатор. Только строчные буквы, цифры и дефисы.',
    'apps.callback_urls': 'Callback URL-ы',
    'apps.callback_hint': 'Авторизованные URI перенаправления для OAuth потоков.',
    'apps.add_url': 'Добавить URL',
    'apps.status': 'Статус',
    'apps.active': 'Приложение активно',
    'apps.active_hint': 'Неактивные приложения не могут использоваться для аутентификации.',
    'apps.create_app': 'Создать приложение',
    'apps.error.name_required': 'Имя обязательно',
    'apps.error.name_format': 'Имя должно содержать только строчные буквы, цифры и дефисы',
    'apps.error.display_name_required': 'Отображаемое имя обязательно',
    'apps.tab_overview': 'Обзор',
    'apps.tab_branding': 'Брендинг',
    'apps.tab_users': 'Пользователи',
    'apps.app_id': 'ID приложения',
    'apps.no_callbacks': 'Callback URL-ы не настроены.',
    'apps.integration': 'Интеграция',
    'apps.integration_hint': 'Используйте этот Application ID в заголовке X-Application-ID для API запросов:',
    'apps.branding': 'Брендинг',
    'apps.users': 'Пользователи',
    'apps.total_users': 'Всего пользователей',
    'apps.active_users': 'Активных пользователей',
    'apps.banned_users': 'Заблокированных',
    'apps.user': 'Пользователь',
    'apps.profile': 'Профиль',
    'apps.last_access': 'Последний доступ',
    'apps.never': 'Никогда',
    'apps.banned': 'Заблокирован',
    'apps.ban': 'Заблокировать',
    'apps.unban': 'Разблокировать',
    'apps.ban_user': 'Заблокировать пользователя в этом приложении',
    'apps.ban_reason_placeholder': 'Введите причину блокировки...',
    'apps.ban_reason_required': 'Укажите причину блокировки.',
    'apps.confirm_ban': 'Подтвердить блокировку',
    'apps.confirm_unban': 'Вы уверены, что хотите разблокировать пользователя?',
    'apps.current_reason': 'Текущая причина',
    'apps.no_users': 'Нет пользователей',
    'apps.no_users_desc': 'Ни один пользователь еще не использовал это приложение.',
    'apps.users_load_error': 'Не удалось загрузить пользователей.',
    'brand.visual': 'Визуальная идентичность',
    'brand.favicon': 'URL Фавикона',
    'brand.secondary': 'Вторичный цвет',
    'brand.preview_btn': 'Основная кнопка',
    'brand.preview_text': 'Цвет вторичного текста',
    'brand.company_info': 'Информация о компании',
    'brand.support_email': 'Email поддержки',
    'brand.legal': 'Юридические ссылки',
    'brand.terms': 'URL Условий использования',
    'brand.privacy': 'URL Политики конфиденциальности',
    'brand.custom_css': 'Пользовательский CSS',
    'brand.custom_css_hint': 'Добавьте пользовательский CSS для переопределения стилей на страницах входа.',

    // Common - additional
    'common.active': 'Активен',
    'common.inactive': 'Неактивен',
    'common.enabled': 'Включено',
    'common.disabled': 'Отключено',
    'common.showing': 'Показано',
    'common.to': 'до',
    'common.of': 'из',
    'common.results': 'результатов',
    'common.entries': 'записей',
    'common.previous': 'Назад',
    'common.next': 'Далее',
    'common.unknown': 'Неизвестно',
    'common.never': 'Никогда',
    'common.no_description': 'Без описания',
    'common.error_loading': 'Ошибка загрузки',
    'common.failed_to_load': 'Не удалось загрузить',
    'common.deleting': 'Удаление...',
    'common.name': 'Имя',
    'common.description': 'Описание',
    'common.test': 'Тест',
    'common.dismiss': 'Закрыть',
    'common.view_details': 'Подробнее',
    'common.view': 'Просмотр',
    'common.host': 'Хост',
    'common.port': 'Порт',
    'common.username': 'Имя пользователя',
    'common.password': 'Пароль',
    'common.not_set': 'Не задано',

    // Bulk Operations
    'bulk.title': 'Массовые операции',
    'bulk.desc': 'Выполнение операций над несколькими пользователями одновременно',
    'bulk.create_users': 'Массовое создание пользователей',
    'bulk.create_desc': 'Создание нескольких пользователей из CSV или JSON файла',
    'bulk.update_users': 'Массовое обновление пользователей',
    'bulk.update_desc': 'Одновременное обновление нескольких пользователей',
    'bulk.delete_users': 'Массовое удаление пользователей',
    'bulk.delete_desc': 'Удаление нескольких пользователей одновременно',
    'bulk.assign_roles': 'Массовое назначение ролей',
    'bulk.assign_desc': 'Назначение ролей нескольким пользователям',
    'bulk.csv_format': 'Формат CSV/JSON',
    'bulk.csv_hint': 'Для массового создания вы можете загрузить CSV или JSON файл. CSV должен содержать колонки: email, username, full_name, password, is_active, email_verified',

    // Sessions
    'sessions.title': 'Сессии',
    'sessions.active_sessions': 'активных сессий',
    'sessions.col_name': 'Имя сессии',
    'sessions.col_user': 'Пользователь',
    'sessions.col_device': 'Устройство',
    'sessions.col_os': 'ОС',
    'sessions.col_ip': 'IP Адрес',
    'sessions.col_user_agent': 'User Agent',
    'sessions.col_last_active': 'Последняя активность',
    'sessions.col_created': 'Создано',
    'sessions.revoke': 'Отозвать',
    'sessions.revoke_confirm': 'Вы уверены, что хотите отозвать эту сессию?',
    'sessions.showing': 'Показано',
    'sessions.sessions_count': 'сессий',
    'sessions.error_loading': 'Ошибка загрузки сессий',

    // LDAP
    'ldap.title': 'Конфигурации LDAP',
    'ldap.desc': 'Управление интеграциями LDAP/Active Directory',
    'ldap.create': 'Создать конфигурацию',
    'ldap.col_name_server': 'Имя / Сервер',
    'ldap.col_port': 'Порт',
    'ldap.col_base_dn': 'Base DN',
    'ldap.col_status': 'Статус',
    'ldap.col_last_sync': 'Последняя синхронизация',
    'ldap.col_actions': 'Действия',
    'ldap.active': 'Активен',
    'ldap.inactive': 'Неактивен',
    'ldap.auto_sync': 'Авто-синхр.',
    'ldap.test_connection': 'Тест соединения',
    'ldap.sync_now': 'Синхронизировать',
    'ldap.view_logs': 'Просмотр логов',
    'ldap.delete_confirm': 'Вы уверены, что хотите удалить конфигурацию LDAP',
    'ldap.connection_success': 'Соединение успешно!',
    'ldap.connection_failed': 'Соединение не удалось',
    'ldap.sync_started': 'Синхронизация запущена успешно',
    'ldap.no_configs': 'Конфигурации LDAP не найдены.',
    'ldap.error_loading': 'Ошибка загрузки конфигураций LDAP',

    // SAML
    'saml.title': 'SAML Service Providers',
    'saml.desc': 'Управление конфигурациями SAML 2.0 Service Provider',
    'saml.create': 'Создать SP',
    'saml.view_metadata': 'Метаданные',
    'saml.col_name': 'Имя',
    'saml.col_entity_id': 'Entity ID',
    'saml.col_acs_url': 'ACS URL',
    'saml.col_status': 'Статус',
    'saml.col_created': 'Создано',
    'saml.col_actions': 'Действия',
    'saml.active': 'Активен',
    'saml.inactive': 'Неактивен',
    'saml.delete_confirm': 'Вы уверены, что хотите удалить SAML Service Provider',
    'saml.no_sps': 'SAML Service Providers не найдены.',
    'saml.showing_sps': 'SP',
    'saml.error_loading': 'Ошибка загрузки SAML Service Providers',

    // Groups
    'groups.title': 'Группы',
    'groups.create': 'Создать группу',
    'groups.search': 'Поиск групп...',
    'groups.col_name': 'Имя',
    'groups.col_display_name': 'Отображаемое имя',
    'groups.col_description': 'Описание',
    'groups.col_members': 'Участники',
    'groups.col_created': 'Создано',
    'groups.col_actions': 'Действия',
    'groups.system_group': 'Системная группа',
    'groups.delete_confirm': 'Вы уверены, что хотите удалить группу',
    'groups.no_groups': 'Группы не найдены.',
    'groups.showing': 'групп',
    'groups.error_loading': 'Ошибка загрузки групп',

    // OAuth Clients
    'oauth_clients.title': 'OAuth Клиенты',
    'oauth_clients.desc': 'Управление приложениями OAuth 2.0 / OIDC',
    'oauth_clients.add': 'Добавить клиента',
    'oauth_clients.client_id': 'Client ID',
    'oauth_clients.redirect_uris': 'Redirect URIs',
    'oauth_clients.none_configured': 'Не настроено',
    'oauth_clients.grant_types': 'Типы Grant',
    'oauth_clients.rotate_secret': 'Обновить секрет',
    'oauth_clients.rotate_confirm': 'Вы уверены, что хотите обновить секрет клиента? Старый секрет перестанет работать немедленно.',
    'oauth_clients.new_secret': 'Новый секрет клиента сгенерирован',
    'oauth_clients.new_secret_desc': 'Скопируйте этот секрет сейчас. Вы больше не сможете его увидеть.',
    'oauth_clients.no_clients': 'Нет OAuth клиентов',
    'oauth_clients.no_clients_desc': 'Начните с создания нового OAuth клиента.',
    'oauth_clients.showing': 'результатов',
    'oauth_clients.load_error': 'Не удалось загрузить OAuth клиентов. Попробуйте снова.',

    // Dashboard - additional
    'dash.new_today': 'новых сегодня',
    'dash.currently_active': 'сейчас активны',
    'dash.total_api_keys': 'Всего API Ключей',
    'dash.active_keys': 'активных',
    'dash.login_attempts': 'Попытки входа',
    'dash.failed_today': 'неудачных сегодня',
    'dash.todays_activity': 'Активность за сегодня',
    'dash.new_users': 'Новые пользователи',
    'dash.failed_logins': 'Неудачные входы',
    'dash.error_loading': 'Ошибка загрузки дашборда',
    'dash.quick_actions': 'Быстрые действия',
    'dash.recent_activity': 'Последние события',
    'dash.view_all': 'Показать все',

    // User Details - additional
    'user.login': 'Вход',
    'user.two_factor': 'Двухфакторная аутентификация',
    'user.enabled': 'Включена',
    'user.disabled': 'Отключена',
    'user.revoke_confirm': 'Вы уверены, что хотите отозвать эту сессию?',
    'user.revoked_success': 'Сессия успешно отозвана',
    'user.reset_2fa_success': '2FA успешно сброшена',
    'user.reset_password_confirm': 'Вы уверены, что хотите отправить письмо для сброса пароля этому пользователю?',
    'user.reset_password_success': 'Письмо для сброса пароля отправлено',
    'user.resetting': 'Сброс...',
    'user.sending': 'Отправка...',
    'user.back_to_users': 'Вернуться к пользователям',
    'user.unknown_browser': 'Неизвестный браузер',
    'user.unknown_os': 'Неизвестная ОС',
    'user.app_profile': 'Профиль в приложении',
    'user.display_name': 'Отображаемое имя',
    'user.nickname': 'Никнейм',
    'user.app_roles': 'Роли в приложении',
    'user.no_roles': 'Нет ролей',
    'user.ban_reason': 'Причина блокировки',
    'user.banned_on': 'Заблокирован',
    'user.not_associated': 'Пользователь не связан с этим приложением',
    'user.no_linked_accounts': 'Нет связанных внешних аккаунтов.',
    'user.no_activity': 'Нет недавней активности.',
    'user.connected': 'Подключено',

    // IP Security - additional
    'ip.no_description': 'Без описания',
    'ip.no_rules': 'Правила не найдены',
    'ip.how_it_works': 'Как работает IP фильтрация',
    'ip.how_it_works_desc': 'Белый список имеет приоритет. Если белый список существует, только IP из этого списка (или соответствующие CIDR-диапазоны) могут получить доступ к системе. Черный список проверяется следующим. Любой IP в черном списке блокируется, даже если белый список не определен.',
    'ip.add_to': 'Добавить в',
    'ip.example_ip': 'например, 192.168.1.1 или 10.0.0.0/24',
    'ip.example_desc': 'например, Вредоносный ботнет / Офисный VPN',

    // Webhooks - additional
    'hooks.last_triggered': 'Последний вызов',
    'hooks.disabled': 'Отключен',
    'hooks.recent_failures': 'неудачных',
    'hooks.no_webhooks': 'Вебхуки не настроены.',
    'hooks.load_error': 'Не удалось загрузить вебхуки. Попробуйте снова.',

    // Audit Logs - additional
    'audit.col_time': 'Время',
    'audit.system': 'Система',
    'audit.showing': 'записей',

    // Email - additional
    'email.providers_title': 'Email провайдеры',
    'email.host': 'Хост',
    'email.port': 'Порт',
    'email.username': 'Имя пользователя',
    'email.tls': 'TLS',
    'email.password': 'Пароль',
    'email.api_key': 'API Ключ',
    'email.region': 'Регион',
    'email.access_key': 'Ключ доступа',
    'email.domain': 'Домен',
    'email.delete_confirm': 'Вы уверены, что хотите удалить этого провайдера? Это действие необратимо.',
    'email.deleting': 'Удаление...',
    'email.test_success': 'Тестовое письмо отправлено успешно!',
    'email.test_failed': 'Не удалось отправить тестовое письмо',
    'email.enter_email': 'Введите email адрес',
    'email.load_error': 'Не удалось загрузить email провайдеров. Попробуйте снова.',
    'email.no_templates_found': 'Email шаблоны не найдены.',

    // Applications - additional
    'apps.all_applications': 'Все приложения',
    'apps.manage': 'Управление',
    'apps.showing': 'результатов',
    'apps.view': 'Просмотр',
    'apps.filtering_by': 'Фильтр по',

    // Settings - additional
    'settings.status_label': 'Статус',
    'settings.db_label': 'БД',
    'settings.redis_label': 'Redis',
    'settings.roles_manage_desc': 'Управление ролями и правами доступа.',
    'settings.saving': 'Сохранение...',

    // Layout - additional
    'layout.light_mode': 'Светлая тема',
    'layout.system_mode': 'Системная тема',
    'layout.dark_mode': 'Темная тема',

    // Common - additional
    'common.updated': 'Обновлено',
    'common.done': 'Готово',
    'common.days': 'дней',
    'common.creating': 'Создание...',

    // Apps - additional tabs
    'apps.tab_templates': 'Email-шаблоны',
    'apps.tab_oauth': 'OAuth-провайдеры',
    'apps.tab_telegram': 'Telegram-боты',

    // User form - additional
    'user.form.password_placeholder': 'Минимум 8 символов',
    'user.form.account_type': 'Тип аккаунта',
    'user.form.account_human': 'Человек',
    'user.form.account_service': 'Сервис',

    // API Keys - additional
    'keys.name_required': 'Введите название API-ключа',
    'keys.scopes_required': 'Выберите хотя бы одну область доступа',
    'keys.key_generated': 'API-ключ создан',
    'keys.copy_warning': 'Скопируйте ключ сейчас. Вы больше не сможете его увидеть!',
    'keys.name': 'Название',
    'keys.name_placeholder': 'Мой API-ключ',
    'keys.scopes': 'Области доступа',
    'keys.expires_in': 'Срок действия (дней)',
    'keys.never': 'Бессрочно',

    // Email Provider Edit
    'email.new_provider': 'Новый email-провайдер',
    'email.edit_provider': 'Редактирование email-провайдера',
    'email.new_provider_desc': 'Настройте нового провайдера email-сервиса',
    'email.edit_provider_desc': 'Обновите настройки email-провайдера',
    'email.basic_settings': 'Основные настройки',
    'email.provider_name': 'Название провайдера',
    'email.provider_type': 'Тип провайдера',
    'email.provider_active': 'Активен',
    'email.smtp_settings': 'Настройки SMTP',
    'email.smtp_host': 'SMTP-хост',
    'email.smtp_port': 'SMTP-порт',
    'email.smtp_username': 'Имя пользователя',
    'email.smtp_password': 'Пароль',
    'email.smtp_use_tls': 'Использовать TLS/STARTTLS',
    'email.sendgrid_settings': 'Настройки SendGrid',
    'email.ses_settings': 'Настройки AWS SES',
    'email.ses_region': 'Регион',
    'email.ses_access_key': 'Access Key ID',
    'email.ses_secret_key': 'Secret Access Key',
    'email.mailgun_settings': 'Настройки Mailgun',
    'email.mailgun_domain': 'Домен',

    // Navigation - messaging group
    'nav.messaging': 'Рассылки',
    'nav.email_templates': 'Email-шаблоны',
    'nav.sms_providers': 'SMS-провайдеры',

    // Audit - additional
    'audit.no_logs': 'Нет записей аудита',
    'audit.no_logs_desc': 'Записей, соответствующих выбранным фильтрам, не найдено.',
    'audit.filter_action': 'Все действия',
    'audit.filter_status': 'Все статусы',

    // Users - additional
    'users.no_users': 'Пользователи не найдены',
    'users.no_users_desc': 'Нет пользователей, соответствующих условиям поиска.',
    'users.create_user': 'Создать пользователя',
    'users.block_user': 'Заблокировать пользователя',
    'users.unblock_user': 'Разблокировать пользователя',

    // Sessions - additional
    'sessions.no_sessions': 'Нет активных сессий',
    'sessions.no_sessions_desc': 'Активные сессии пользователей не найдены.',

    // API Keys - additional
    'keys.no_keys': 'Нет API-ключей',
    'keys.no_keys_desc': 'API-ключи ещё не созданы.',

    // Groups - additional
    'groups.no_groups_title': 'Нет групп',
    'groups.no_groups_desc': 'Группы ещё не созданы.',
    'groups.create_group': 'Создать группу',

    // Webhooks - additional
    'hooks.no_webhooks_title': 'Нет вебхуков',
    'hooks.no_webhooks_desc': 'Вебхуки ещё не настроены.',
    'hooks.add_endpoint': 'Добавить эндпоинт',
  },
  en: {
    // Common
    'common.save': 'Save Changes',
    'common.saving': 'Saving...',
    'common.saved': 'Saved!',
    'common.cancel': 'Cancel',
    'common.delete': 'Delete',
    'common.edit': 'Edit',
    'common.create': 'Create',
    'common.back': 'Back',
    'common.loading': 'Loading...',
    'common.actions': 'Actions',
    'common.search': 'Search...',
    'common.status': 'Status',
    'common.created': 'Created',
    'common.yes': 'Yes',
    'common.no': 'No',
    'common.confirm_delete': 'Are you sure you want to delete this item?',

    // Auth
    'auth.title': 'Auth Gateway',
    'auth.subtitle': 'Sign in to access the admin console',
    'auth.email': 'Email Address',
    'auth.password': 'Password',
    'auth.signin': 'Sign In',
    'auth.forgot_password': 'Forgot password?',
    'auth.reset_here': 'Reset here',

    // Navigation
    'nav.dashboard': 'Dashboard',
    'nav.users': 'Users',
    'nav.users_identity': 'Users & Identity',
    'nav.groups': 'Groups',
    'nav.bulk_operations': 'Bulk Operations',
    'nav.access_control': 'Access Control',
    'nav.roles': 'Roles',
    'nav.permissions': 'Permissions',
    'nav.access_settings': 'Access Settings',
    'nav.authentication': 'Authentication',
    'nav.sessions': 'Sessions',
    'nav.api_keys': 'API Keys',
    'nav.oauth': 'OAuth Providers',
    'nav.oauth_clients': 'OAuth Clients',
    'nav.security': 'Security',
    'nav.ip_security': 'IP Security',
    'nav.audit_logs': 'Audit Logs',
    'nav.email': 'Email',
    'nav.email_providers': 'Email Providers',
    'nav.email_profiles': 'Email Profiles',
    'nav.settings': 'Settings',
    'nav.developers': 'Developers',
    'nav.webhooks': 'Webhooks',
    'nav.service_accounts': 'Service Accounts',
    'nav.token_inspector': 'Token Inspector',
    'nav.logout': 'Sign Out',
    'nav.menu': 'Menu',

    // Breadcrumbs
    'breadcrumb.home': 'Home',
    'breadcrumb.details': 'Details',

    // Dashboard
    'dash.title': 'System Overview',
    'dash.total_users': 'Total Users',
    'dash.active_now': 'Active Now',
    'dash.2fa_enabled': '2FA Enabled',
    'dash.api_keys': 'API Keys',
    'dash.registrations': 'Registrations (30 Days)',
    'dash.login_activity': 'Login Activity',

    // Users
    'users.title': 'Users',
    'users.create_new': 'Create User',
    'users.filter_role': 'All Roles',
    'users.col_user': 'User',
    'users.col_role': 'Role',
    'users.col_status': 'Status',
    'users.col_2fa': '2FA',
    'users.col_created': 'Created',
    'users.active': 'Active',
    'users.blocked': 'Blocked',
    'users.view_details': 'View Details',

    // User Details
    'user.id': 'User ID',
    'user.edit_profile': 'Edit Profile',
    'user.security': 'Security',
    'user.email_verified': 'Email Verified',
    'user.sessions': 'Active Sessions',
    'user.linked_accounts': 'Linked Accounts',
    'user.recent_activity': 'Recent Activity',
    'user.revoke': 'Revoke',
    'user.current': 'Current',
    'user.no_sessions': 'No active sessions found',
    'user.no_keys': 'No keys found',
    'user.danger_zone': 'Danger Zone',
    'user.reset_2fa': 'Reset 2FA',
    'user.reset_password_email': 'Send Password Reset',
    'user.reset_2fa_confirm': 'Are you sure? The user will need to set up 2FA again.',


    // User Edit
    'user.edit.title': 'Edit User',
    'user.create.title': 'Create New User',
    'user.form.username': 'Username',
    'user.form.role': 'Role',
    'user.form.fullname': 'Full Name',
    'user.form.phone': 'Phone number',
    'user.form.active': 'Account Active',
    'user.form.active_desc': 'Uncheck to block this user from signing in.',
    'user.form.2fa_force': 'Force 2FA',
    'user.form.save': 'Save Changes',

    // API Keys
    'keys.title': 'API Keys',
    'keys.generate': 'Generate New Key',
    'keys.owner': 'Owner',
    'keys.prefix': 'Prefix',
    'keys.revoke_confirm': 'Revoke this API key? This cannot be undone.',
    'keys.revoked': 'Revoked',

    // OAuth
    'oauth.title': 'OAuth Providers',
    'oauth.add': 'Add Provider',
    'oauth.manage_desc': 'Manage social login connections',
    'oauth.client_id': 'Client ID',
    'oauth.client_secret': 'Client Secret',
    'oauth.redirect_uris': 'Redirect URIs',
    'oauth.enable': 'Enable provider',
    'oauth.configure': 'Configure',

    // Settings
    'settings.title': 'System Settings',
    'settings.branding': 'Look & Feel',
    'settings.branding_desc': 'Customize the hosted login page',
    'settings.roles': 'Roles & Permissions',
    'settings.roles_desc': 'Manage user roles and access',
    'settings.ip_security': 'IP Security',
    'settings.ip_desc': 'Manage blocked IPs and whitelists',
    'settings.security_policies': 'Security Policies',
    'settings.password_policy': 'Password Policy',
    'settings.email_smtp': 'Email & SMTP',
    'settings.manage_templates': 'Manage Templates',
    'settings.jwt_ttl': 'JWT Access Token TTL (minutes)',
    'settings.refresh_ttl': 'JWT Refresh Token TTL (days)',
    'settings.min_pass': 'Password Minimum Length',
    'settings.require_2fa_admin': 'Require 2FA for Admins',
    'settings.smtp_host': 'SMTP Host',
    'settings.smtp_port': 'Port',
    'settings.from_addr': 'From Address',
    'settings.req_uppercase': 'Require Uppercase',
    'settings.req_lowercase': 'Require Lowercase',
    'settings.req_numbers': 'Require Numbers',
    'settings.req_special': 'Require Special Chars',
    'settings.pass_history': 'Password History',
    'settings.pass_expiry': 'Password Expiry (days)',

    // IP Rules
    'ip.title': 'IP Security',
    'ip.blacklist': 'Blocked IPs (Blacklist)',
    'ip.whitelist': 'Allowed IPs (Whitelist)',
    'ip.add_block': 'Add Block Rule',
    'ip.add_allow': 'Add Allow Rule',
    'ip.address': 'IP Address / CIDR',
    'ip.added_by': 'Added By',

    // Webhooks
    'hooks.title': 'Webhooks',
    'hooks.add': 'Add Endpoint',
    'hooks.url': 'Endpoint URL',
    'hooks.events': 'Events',
    'hooks.secret': 'Signing Secret',
    'hooks.failures': 'Failures',

    // Service Accounts
    'sa.title': 'Service Accounts',
    'sa.create': 'Create Service Account',
    'sa.desc': 'Manage machine-to-machine identities',
    'sa.generated': 'Service Account Created',
    'sa.generated_desc': 'Please copy these credentials now. You won\'t be able to see the Client Secret again.',

    // Roles & Permissions
    'roles.title': 'Roles',
    'perms.title': 'Permissions',
    'perms.name': 'Name',
    'perms.resource': 'Resource',
    'perms.action': 'Action',
    'roles.permissions': 'Permissions',
    'roles.system_role': 'System',
    'roles.users_count': 'Users',

    // Branding
    'brand.company': 'Company Name',
    'brand.logo': 'Logo URL',
    'brand.colors': 'Colors',
    'brand.primary': 'Primary Color',
    'brand.bg': 'Background',
    'brand.content': 'Page Content',
    'brand.heading': 'Login Heading',
    'brand.subtitle': 'Subtitle',
    'brand.preview': 'Live Preview',
    'brand.socials': 'Show Social Logins',

    // Email Templates
    'email.templates': 'Email Templates',
    'email.subject': 'Email Subject',
    'email.body': 'HTML Content',
    'email.vars': 'Available variables',
    'email.preview': 'Live Preview',
    'email.settings_title': 'Email Settings',
    'email.tab_templates': 'Templates',
    'email.tab_providers': 'Providers',
    'email.group_auth': 'Authentication',
    'email.group_auth_desc': 'Templates for signup, verification, and login',
    'email.group_security': 'Security',
    'email.group_security_desc': 'Templates for password reset and two-factor authentication',
    'email.group_other': 'Other',
    'email.group_other_desc': 'Custom templates',
    'email.no_templates': 'No templates',
    'email.no_templates_in_group': 'No templates in this category yet.',
    'email.type_verification': 'Verification',
    'email.type_welcome': 'Welcome',
    'email.type_otp_login': 'OTP Login',
    'email.type_otp_registration': 'OTP Registration',
    'email.type_password_reset': 'Password Reset',
    'email.type_2fa': 'Two-Factor Auth',
    'email.type_custom': 'Custom',
    'email.providers': 'Email Providers',
    'email.providers_desc': 'Configure SMTP servers and email service providers for sending emails',
    'email.add_provider': 'Add Provider',
    'email.add_first_provider': 'Add Your First Provider',
    'email.test_email': 'Test Email Address',
    'email.no_providers': 'No Email Providers',
    'email.no_providers_desc': 'Configure an email provider to enable sending emails from the system.',
    'email.manage_providers': 'Manage Providers',

    // SMS & System
    'sms.title': 'SMS Providers',
    'sms.desc': 'Configure SMS Gateway for sending messages',
    'sms.provider': 'Select Provider',
    'sms.test': 'Test Sending',
    'sys.health': 'System Health',
    'sys.maintenance_on': 'Maintenance Mode ON',
    'sys.maintenance_off': 'Maintenance Mode OFF',
    'sys.confirm_enable': 'Are you sure you want to enable maintenance mode? Users will be locked out.',
    'sys.confirm_disable': 'Disable maintenance mode?',

    // Inspector
    'inspector.title': 'Token Inspector',
    'inspector.desc': 'Decode and verify JWT tokens',
    'inspector.paste': 'Paste JWT here',
    'inspector.header': 'Header',
    'inspector.payload': 'Payload',
    'inspector.invalid': 'Invalid Token Format',

    // Applications
    'nav.applications': 'Applications',
    'apps.title': 'Applications',
    'apps.desc': 'Manage multi-tenant applications',
    'apps.add': 'Add Application',
    'apps.create': 'Create Application',
    'apps.edit': 'Edit Application',
    'apps.create_desc': 'Set up a new application for multi-tenant authentication',
    'apps.edit_desc': 'Update application settings',
    'apps.load_error': 'Failed to load applications. Please try again.',
    'apps.not_found': 'Application not found.',
    'apps.system': 'System',
    'apps.name_slug': 'Name (Slug)',
    'apps.homepage': 'Homepage URL',
    'apps.callbacks': 'Callback URLs',
    'apps.none_configured': 'None configured',
    'apps.no_apps': 'No applications',
    'apps.get_started': 'Get started by creating a new application.',
    'apps.basic_info': 'Basic Information',
    'apps.name': 'Name (Slug)',
    'apps.display_name': 'Display Name',
    'apps.description': 'Description',
    'apps.description_placeholder': 'Brief description of this application...',
    'apps.name_hint': 'Unique identifier. Only lowercase letters, numbers, and hyphens.',
    'apps.callback_urls': 'Callback URLs',
    'apps.callback_hint': 'Authorized redirect URIs for OAuth flows.',
    'apps.add_url': 'Add URL',
    'apps.status': 'Status',
    'apps.active': 'Application is active',
    'apps.active_hint': 'Inactive applications cannot be used for authentication.',
    'apps.create_app': 'Create Application',
    'apps.error.name_required': 'Name is required',
    'apps.error.name_format': 'Name must contain only lowercase letters, numbers, and hyphens',
    'apps.error.display_name_required': 'Display name is required',
    'apps.tab_overview': 'Overview',
    'apps.tab_branding': 'Branding',
    'apps.tab_users': 'Users',
    'apps.app_id': 'Application ID',
    'apps.no_callbacks': 'No callback URLs configured.',
    'apps.integration': 'Integration',
    'apps.integration_hint': 'Use this Application ID in the X-Application-ID header for API requests:',
    'apps.branding': 'Branding',
    'apps.users': 'Users',
    'apps.total_users': 'Total Users',
    'apps.active_users': 'Active Users',
    'apps.banned_users': 'Banned Users',
    'apps.user': 'User',
    'apps.profile': 'Profile',
    'apps.last_access': 'Last Access',
    'apps.never': 'Never',
    'apps.banned': 'Banned',
    'apps.ban': 'Ban',
    'apps.unban': 'Unban',
    'apps.ban_user': 'Ban user from this application',
    'apps.ban_reason_placeholder': 'Enter reason for ban...',
    'apps.ban_reason_required': 'Please provide a reason for banning.',
    'apps.confirm_ban': 'Confirm Ban',
    'apps.confirm_unban': 'Are you sure you want to unban this user?',
    'apps.current_reason': 'Current reason',
    'apps.no_users': 'No users',
    'apps.no_users_desc': 'No users have accessed this application yet.',
    'apps.users_load_error': 'Failed to load users.',
    'brand.visual': 'Visual Identity',
    'brand.favicon': 'Favicon URL',
    'brand.secondary': 'Secondary Color',
    'brand.preview_btn': 'Primary Button',
    'brand.preview_text': 'Secondary text color',
    'brand.company_info': 'Company Information',
    'brand.support_email': 'Support Email',
    'brand.legal': 'Legal Links',
    'brand.terms': 'Terms of Service URL',
    'brand.privacy': 'Privacy Policy URL',
    'brand.custom_css': 'Custom CSS',
    'brand.custom_css_hint': 'Add custom CSS to override default styles on login pages.',

    // Common - additional
    'common.active': 'Active',
    'common.inactive': 'Inactive',
    'common.enabled': 'Enabled',
    'common.disabled': 'Disabled',
    'common.showing': 'Showing',
    'common.to': 'to',
    'common.of': 'of',
    'common.results': 'results',
    'common.entries': 'entries',
    'common.previous': 'Previous',
    'common.next': 'Next',
    'common.unknown': 'Unknown',
    'common.never': 'Never',
    'common.no_description': 'No description',
    'common.error_loading': 'Error loading',
    'common.failed_to_load': 'Failed to load',
    'common.deleting': 'Deleting...',
    'common.name': 'Name',
    'common.description': 'Description',
    'common.test': 'Test',
    'common.dismiss': 'Dismiss',
    'common.view_details': 'View Details',
    'common.view': 'View',
    'common.host': 'Host',
    'common.port': 'Port',
    'common.username': 'Username',
    'common.password': 'Password',
    'common.not_set': 'Not set',

    // Bulk Operations
    'bulk.title': 'Bulk Operations',
    'bulk.desc': 'Perform operations on multiple users at once',
    'bulk.create_users': 'Bulk Create Users',
    'bulk.create_desc': 'Create multiple users at once from CSV or JSON file',
    'bulk.update_users': 'Bulk Update Users',
    'bulk.update_desc': 'Update multiple users simultaneously',
    'bulk.delete_users': 'Bulk Delete Users',
    'bulk.delete_desc': 'Delete multiple users at once',
    'bulk.assign_roles': 'Bulk Assign Roles',
    'bulk.assign_desc': 'Assign roles to multiple users',
    'bulk.csv_format': 'CSV/JSON Format',
    'bulk.csv_hint': 'For bulk create operations, you can upload a CSV or JSON file. The CSV should have columns: email, username, full_name, password, is_active, email_verified',

    // Sessions
    'sessions.title': 'Sessions',
    'sessions.active_sessions': 'active sessions',
    'sessions.col_name': 'Session name',
    'sessions.col_user': 'User',
    'sessions.col_device': 'Device',
    'sessions.col_os': 'OS',
    'sessions.col_ip': 'IP Address',
    'sessions.col_user_agent': 'User Agent',
    'sessions.col_last_active': 'Last Active',
    'sessions.col_created': 'Created',
    'sessions.revoke': 'Revoke',
    'sessions.revoke_confirm': 'Are you sure you want to revoke this session?',
    'sessions.showing': 'Showing',
    'sessions.sessions_count': 'sessions',
    'sessions.error_loading': 'Error loading sessions',

    // LDAP
    'ldap.title': 'LDAP Configurations',
    'ldap.desc': 'Manage LDAP/Active Directory integrations',
    'ldap.create': 'Create Configuration',
    'ldap.col_name_server': 'Name / Server',
    'ldap.col_port': 'Port',
    'ldap.col_base_dn': 'Base DN',
    'ldap.col_status': 'Status',
    'ldap.col_last_sync': 'Last Sync',
    'ldap.col_actions': 'Actions',
    'ldap.active': 'Active',
    'ldap.inactive': 'Inactive',
    'ldap.auto_sync': 'Auto-sync',
    'ldap.test_connection': 'Test Connection',
    'ldap.sync_now': 'Sync Now',
    'ldap.view_logs': 'View Sync Logs',
    'ldap.delete_confirm': 'Are you sure you want to delete LDAP configuration',
    'ldap.connection_success': 'Connection successful!',
    'ldap.connection_failed': 'Connection failed',
    'ldap.sync_started': 'Synchronization started successfully',
    'ldap.no_configs': 'No LDAP configurations found.',
    'ldap.error_loading': 'Error loading LDAP configurations',

    // SAML
    'saml.title': 'SAML Service Providers',
    'saml.desc': 'Manage SAML 2.0 Service Provider configurations',
    'saml.create': 'Create SP',
    'saml.view_metadata': 'View Metadata',
    'saml.col_name': 'Name',
    'saml.col_entity_id': 'Entity ID',
    'saml.col_acs_url': 'ACS URL',
    'saml.col_status': 'Status',
    'saml.col_created': 'Created',
    'saml.col_actions': 'Actions',
    'saml.active': 'Active',
    'saml.inactive': 'Inactive',
    'saml.delete_confirm': 'Are you sure you want to delete SAML Service Provider',
    'saml.no_sps': 'No SAML Service Providers found.',
    'saml.showing_sps': 'SPs',
    'saml.error_loading': 'Error loading SAML Service Providers',

    // Groups
    'groups.title': 'Groups',
    'groups.create': 'Create Group',
    'groups.search': 'Search groups...',
    'groups.col_name': 'Name',
    'groups.col_display_name': 'Display Name',
    'groups.col_description': 'Description',
    'groups.col_members': 'Members',
    'groups.col_created': 'Created',
    'groups.col_actions': 'Actions',
    'groups.system_group': 'System Group',
    'groups.delete_confirm': 'Are you sure you want to delete group',
    'groups.no_groups': 'No groups found.',
    'groups.showing': 'groups',
    'groups.error_loading': 'Error loading groups',

    // OAuth Clients
    'oauth_clients.title': 'OAuth Clients',
    'oauth_clients.desc': 'Manage OAuth 2.0 / OIDC client applications',
    'oauth_clients.add': 'Add Client',
    'oauth_clients.client_id': 'Client ID',
    'oauth_clients.redirect_uris': 'Redirect URIs',
    'oauth_clients.none_configured': 'None configured',
    'oauth_clients.grant_types': 'Grant Types',
    'oauth_clients.rotate_secret': 'Rotate Secret',
    'oauth_clients.rotate_confirm': 'Are you sure you want to rotate the client secret? The old secret will stop working immediately.',
    'oauth_clients.new_secret': 'New Client Secret Generated',
    'oauth_clients.new_secret_desc': 'Copy this secret now. You won\'t be able to see it again.',
    'oauth_clients.no_clients': 'No OAuth clients',
    'oauth_clients.no_clients_desc': 'Get started by creating a new OAuth client.',
    'oauth_clients.showing': 'results',
    'oauth_clients.load_error': 'Failed to load OAuth clients. Please try again.',

    // Dashboard - additional
    'dash.new_today': 'new today',
    'dash.currently_active': 'currently active',
    'dash.total_api_keys': 'Total API Keys',
    'dash.active_keys': 'active',
    'dash.login_attempts': 'Login Attempts',
    'dash.failed_today': 'failed today',
    'dash.todays_activity': 'Today\'s Activity',
    'dash.new_users': 'New Users',
    'dash.failed_logins': 'Failed Logins',
    'dash.error_loading': 'Error loading dashboard',
    'dash.quick_actions': 'Quick Actions',
    'dash.recent_activity': 'Recent Activity',
    'dash.view_all': 'View All',

    // User Details - additional
    'user.login': 'Login',
    'user.two_factor': 'Two-Factor Auth',
    'user.enabled': 'Enabled',
    'user.disabled': 'Disabled',
    'user.revoke_confirm': 'Are you sure you want to revoke this session?',
    'user.revoked_success': 'Session revoked successfully',
    'user.reset_2fa_success': '2FA has been reset successfully',
    'user.reset_password_confirm': 'Are you sure you want to send a password reset email to this user?',
    'user.reset_password_success': 'Password reset email sent',
    'user.resetting': 'Resetting...',
    'user.sending': 'Sending...',
    'user.back_to_users': 'Back to Users',
    'user.unknown_browser': 'Unknown Browser',
    'user.unknown_os': 'Unknown OS',
    'user.app_profile': 'App Profile',
    'user.display_name': 'Display Name',
    'user.nickname': 'Nickname',
    'user.app_roles': 'App Roles',
    'user.no_roles': 'No roles',
    'user.ban_reason': 'Ban Reason',
    'user.banned_on': 'Banned on',
    'user.not_associated': 'User not associated with this application',
    'user.no_linked_accounts': 'No external accounts linked.',
    'user.no_activity': 'No recent activity.',
    'user.connected': 'Connected',

    // IP Security - additional
    'ip.no_description': 'No description',
    'ip.no_rules': 'No rules found',
    'ip.how_it_works': 'How IP Filtering Works',
    'ip.how_it_works_desc': 'The Whitelist takes precedence. If a whitelist exists, only IPs in that list (or matching CIDR ranges) can access the system. The Blacklist is checked next. Any IP in the blacklist is blocked, even if no whitelist is defined.',
    'ip.add_to': 'Add to',
    'ip.example_ip': 'e.g. 192.168.1.1 or 10.0.0.0/24',
    'ip.example_desc': 'e.g. Malicious botnet / Office VPN',

    // Webhooks - additional
    'hooks.last_triggered': 'Last Triggered',
    'hooks.disabled': 'Disabled',
    'hooks.recent_failures': 'failed',
    'hooks.no_webhooks': 'No webhooks configured.',
    'hooks.load_error': 'Failed to load webhooks. Please try again.',

    // Audit Logs - additional
    'audit.col_time': 'Time',
    'audit.system': 'System',
    'audit.showing': 'entries',

    // Email - additional
    'email.providers_title': 'Email Providers',
    'email.host': 'Host',
    'email.port': 'Port',
    'email.username': 'Username',
    'email.tls': 'TLS',
    'email.password': 'Password',
    'email.api_key': 'API Key',
    'email.region': 'Region',
    'email.access_key': 'Access Key',
    'email.domain': 'Domain',
    'email.delete_confirm': 'Are you sure you want to delete this provider? This action cannot be undone.',
    'email.deleting': 'Deleting...',
    'email.test_success': 'Test email sent successfully!',
    'email.test_failed': 'Failed to send test email',
    'email.enter_email': 'Please enter an email address',
    'email.load_error': 'Failed to load email providers. Please try again.',
    'email.no_templates_found': 'No email templates found.',

    // Applications - additional
    'apps.all_applications': 'All Applications',
    'apps.manage': 'Manage',
    'apps.showing': 'results',
    'apps.view': 'View',
    'apps.filtering_by': 'Filtering by',

    // Settings - additional
    'settings.status_label': 'Status',
    'settings.db_label': 'DB',
    'settings.redis_label': 'Redis',
    'settings.roles_manage_desc': 'Manage roles and permissions in one place.',
    'settings.saving': 'Saving...',

    // Layout - additional
    'layout.light_mode': 'Light mode',
    'layout.system_mode': 'System preference',
    'layout.dark_mode': 'Dark mode',

    // Common - additional
    'common.updated': 'Updated',
    'common.done': 'Done',
    'common.days': 'days',
    'common.creating': 'Creating...',

    // Apps - additional tabs
    'apps.tab_templates': 'Email Templates',
    'apps.tab_oauth': 'OAuth Providers',
    'apps.tab_telegram': 'Telegram Bots',

    // User form - additional
    'user.form.password_placeholder': 'Minimum 8 characters',
    'user.form.account_type': 'Account Type',
    'user.form.account_human': 'Human',
    'user.form.account_service': 'Service',

    // API Keys - additional
    'keys.name_required': 'Please enter a name for the API key',
    'keys.scopes_required': 'Please select at least one scope',
    'keys.key_generated': 'API Key Generated',
    'keys.copy_warning': "Copy this key now. You won't be able to see it again!",
    'keys.name': 'Name',
    'keys.name_placeholder': 'My API Key',
    'keys.scopes': 'Scopes',
    'keys.expires_in': 'Expires In (days)',
    'keys.never': 'Never',

    // Email Provider Edit
    'email.new_provider': 'New Email Provider',
    'email.edit_provider': 'Edit Email Provider',
    'email.new_provider_desc': 'Configure a new email service provider',
    'email.edit_provider_desc': 'Update email provider settings',
    'email.basic_settings': 'Basic Settings',
    'email.provider_name': 'Provider Name',
    'email.provider_type': 'Provider Type',
    'email.provider_active': 'Active',
    'email.smtp_settings': 'SMTP Settings',
    'email.smtp_host': 'SMTP Host',
    'email.smtp_port': 'SMTP Port',
    'email.smtp_username': 'Username',
    'email.smtp_password': 'Password',
    'email.smtp_use_tls': 'Use TLS/STARTTLS',
    'email.sendgrid_settings': 'SendGrid Settings',
    'email.ses_settings': 'AWS SES Settings',
    'email.ses_region': 'Region',
    'email.ses_access_key': 'Access Key ID',
    'email.ses_secret_key': 'Secret Access Key',
    'email.mailgun_settings': 'Mailgun Settings',
    'email.mailgun_domain': 'Domain',

    // Navigation - messaging group
    'nav.messaging': 'Messaging',
    'nav.email_templates': 'Email Templates',
    'nav.sms_providers': 'SMS Providers',

    // Audit - additional
    'audit.no_logs': 'No audit logs',
    'audit.no_logs_desc': 'No audit log entries match your filters.',
    'audit.filter_action': 'All Actions',
    'audit.filter_status': 'All Statuses',

    // Users - additional
    'users.no_users': 'No users found',
    'users.no_users_desc': 'No users match your search criteria.',
    'users.create_user': 'Create User',
    'users.block_user': 'Block user',
    'users.unblock_user': 'Unblock user',

    // Sessions - additional
    'sessions.no_sessions': 'No active sessions',
    'sessions.no_sessions_desc': 'No active user sessions found.',

    // API Keys - additional
    'keys.no_keys': 'No API keys',
    'keys.no_keys_desc': 'No API keys have been created yet.',

    // Groups - additional
    'groups.no_groups_title': 'No groups',
    'groups.no_groups_desc': 'No groups have been created yet.',
    'groups.create_group': 'Create Group',

    // Webhooks - additional
    'hooks.no_webhooks_title': 'No webhooks',
    'hooks.no_webhooks_desc': 'No webhooks have been configured yet.',
    'hooks.add_endpoint': 'Add Endpoint',
  }
};

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export const LanguageProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [language, setLanguageState] = useState<Language>('ru');

  useEffect(() => {
    const savedLang = localStorage.getItem('app_language') as Language;
    if (savedLang && (savedLang === 'en' || savedLang === 'ru')) {
      setLanguageState(savedLang);
    }
  }, []);

  const setLanguage = (lang: Language) => {
    setLanguageState(lang);
    localStorage.setItem('app_language', lang);
  };

  const t = (key: string): string => {
    const value = translations[language][key];
    if (!value && import.meta.env.DEV) {
      console.warn(`[i18n] Missing translation key: "${key}" for language: "${language}"`);
    }
    return value || key;
  };

  return (
    <LanguageContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  );
};

export const useLanguage = (): LanguageContextType => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};